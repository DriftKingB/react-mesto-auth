{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useRef, useState } from \"react\";\nexport default function useInputHandling(_ref) {\n  _s();\n\n  let {\n    defaultInputs,\n    defaultInputIsValidState\n  } = _ref;\n  let isOpen = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  const [inputs, setInputs] = useState(defaultInputs);\n  const [isValid, setIsValid] = useState(false);\n  useEffect(() => {\n    if (isOpen) {\n      const someInputIsInvalid = Object.values(inputs).some(input => {\n        var _input$isValid;\n\n        return !((_input$isValid = input === null || input === void 0 ? void 0 : input.isValid) !== null && _input$isValid !== void 0 ? _input$isValid : defaultInputIsValidState);\n      });\n      !someInputIsInvalid ? setIsValid(true) : setIsValid(false);\n    }\n  }, [inputs]);\n\n  function handleInputsUpdate() {\n    setInputs(defaultInputs);\n    setIsValid(false);\n  }\n\n  function handleChange(evt) {\n    const input = evt.target;\n    const value = input.value;\n    const isValid = input.validity.valid;\n    const errorMessage = input.validationMessage;\n    setInputs({ ...inputs,\n      [input.name]: {\n        value,\n        isValid,\n        errorMessage\n      }\n    });\n  }\n\n  return [inputs, isValid, handleInputsUpdate, handleChange];\n}\n\n_s(useInputHandling, \"HibD7yxtvcnw2qgI/XpKOlHEKpY=\");","map":{"version":3,"names":["useEffect","useRef","useState","useInputHandling","defaultInputs","defaultInputIsValidState","isOpen","inputs","setInputs","isValid","setIsValid","someInputIsInvalid","Object","values","some","input","handleInputsUpdate","handleChange","evt","target","value","validity","valid","errorMessage","validationMessage","name"],"sources":["/Users/maksim/Desktop/dev/mesto-react/src/custom_hooks/useInputHandling.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\n\r\nexport default function useInputHandling({ defaultInputs, defaultInputIsValidState }, isOpen = true) {\r\n  const [ inputs, setInputs ] = useState(defaultInputs);\r\n  const [ isValid, setIsValid ] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      const someInputIsInvalid = Object.values(inputs).some(input => !(input?.isValid ?? defaultInputIsValidState));\r\n\r\n      !someInputIsInvalid ? setIsValid(true) : setIsValid(false);\r\n    }\r\n  }, [inputs]);\r\n\r\n  function handleInputsUpdate() {\r\n    setInputs(defaultInputs);\r\n    \r\n    setIsValid(false);\r\n  }\r\n\r\n  function handleChange(evt) {\r\n    const input = evt.target;\r\n    const value = input.value;\r\n    const isValid = input.validity.valid;\r\n    const errorMessage = input.validationMessage;\r\n\r\n    setInputs({ ...inputs, [input.name]: { value, isValid, errorMessage } });\r\n  }\r\n\r\n  return [ inputs, isValid, handleInputsUpdate, handleChange ];\r\n}"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;AAEA,eAAe,SAASC,gBAAT,OAAsF;EAAA;;EAAA,IAA5D;IAAEC,aAAF;IAAiBC;EAAjB,CAA4D;EAAA,IAAfC,MAAe,uEAAN,IAAM;EACnG,MAAM,CAAEC,MAAF,EAAUC,SAAV,IAAwBN,QAAQ,CAACE,aAAD,CAAtC;EACA,MAAM,CAAEK,OAAF,EAAWC,UAAX,IAA0BR,QAAQ,CAAC,KAAD,CAAxC;EAEAF,SAAS,CAAC,MAAM;IACd,IAAIM,MAAJ,EAAY;MACV,MAAMK,kBAAkB,GAAGC,MAAM,CAACC,MAAP,CAAcN,MAAd,EAAsBO,IAAtB,CAA2BC,KAAK;QAAA;;QAAA,OAAI,oBAAEA,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEN,OAAT,2DAAoBJ,wBAApB,CAAJ;MAAA,CAAhC,CAA3B;MAEA,CAACM,kBAAD,GAAsBD,UAAU,CAAC,IAAD,CAAhC,GAAyCA,UAAU,CAAC,KAAD,CAAnD;IACD;EACF,CANQ,EAMN,CAACH,MAAD,CANM,CAAT;;EAQA,SAASS,kBAAT,GAA8B;IAC5BR,SAAS,CAACJ,aAAD,CAAT;IAEAM,UAAU,CAAC,KAAD,CAAV;EACD;;EAED,SAASO,YAAT,CAAsBC,GAAtB,EAA2B;IACzB,MAAMH,KAAK,GAAGG,GAAG,CAACC,MAAlB;IACA,MAAMC,KAAK,GAAGL,KAAK,CAACK,KAApB;IACA,MAAMX,OAAO,GAAGM,KAAK,CAACM,QAAN,CAAeC,KAA/B;IACA,MAAMC,YAAY,GAAGR,KAAK,CAACS,iBAA3B;IAEAhB,SAAS,CAAC,EAAE,GAAGD,MAAL;MAAa,CAACQ,KAAK,CAACU,IAAP,GAAc;QAAEL,KAAF;QAASX,OAAT;QAAkBc;MAAlB;IAA3B,CAAD,CAAT;EACD;;EAED,OAAO,CAAEhB,MAAF,EAAUE,OAAV,EAAmBO,kBAAnB,EAAuCC,YAAvC,CAAP;AACD;;GA5BuBd,gB"},"metadata":{},"sourceType":"module"}