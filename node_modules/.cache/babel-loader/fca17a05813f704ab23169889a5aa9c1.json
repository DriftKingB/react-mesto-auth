{"ast":null,"code":"var _jsxFileName = \"/Users/maksim/Desktop/dev/mesto-react/src/components/Popups/PopupWithForm.js\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect } from \"react\";\nimport Form from \"../Form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PopupWithForm(_ref) {\n  _s();\n\n  let {\n    name,\n    title,\n    submitText,\n    loadingSubmitText,\n    onClose,\n    onSubmit,\n    isOpen,\n    isLoading,\n    isValid,\n    inputFieldset,\n    inputs\n  } = _ref;\n  const closeByEscapeCallBack = useCallback(evt => {\n    evt.key === 'Escape' && onClose();\n  }, []);\n  useEffect(() => {\n    if (isOpen) {\n      document.addEventListener('keydown', closeByEscapeCallBack);\n    } else {\n      document.removeEventListener('keydown', closeByEscapeCallBack);\n    }\n  }, [isOpen]);\n\n  function handleClose(evt) {\n    evt.target.classList.contains('popup') && onClose();\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onSubmit(inputs);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: `popup popup_type_${name} ${isOpen ? \"popup_active\" : \"\"}`,\n    onMouseDown: handleClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup__container\",\n      children: [/*#__PURE__*/_jsxDEV(Form, {\n        type: \"popup\",\n        onSubmit: handleSubmit,\n        isOpen: isOpen,\n        isLoading: isLoading,\n        isValid: isValid,\n        inputs: inputs,\n        name: name,\n        title: title,\n        submitText: submitText,\n        loadingSubmitText: loadingSubmitText,\n        inputFieldset: inputFieldset\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"popup__close-button\",\n        type: \"button\",\n        onClick: onClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PopupWithForm, \"VGD2fvk0JEf1drxdxP6gTvzrARI=\");\n\n_c = PopupWithForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"PopupWithForm\");","map":{"version":3,"names":["useCallback","useEffect","Form","PopupWithForm","name","title","submitText","loadingSubmitText","onClose","onSubmit","isOpen","isLoading","isValid","inputFieldset","inputs","closeByEscapeCallBack","evt","key","document","addEventListener","removeEventListener","handleClose","target","classList","contains","handleSubmit","preventDefault"],"sources":["/Users/maksim/Desktop/dev/mesto-react/src/components/Popups/PopupWithForm.js"],"sourcesContent":["import { useCallback, useEffect } from \"react\"\r\nimport Form from \"../Form\";\r\n\r\nexport default function PopupWithForm({ name, title, submitText, loadingSubmitText, onClose, onSubmit, isOpen, isLoading, isValid, inputFieldset, inputs }) {\r\n  const closeByEscapeCallBack = useCallback((evt) => {\r\n    evt.key === 'Escape' && onClose();\r\n  }, []);\r\n  \r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.addEventListener('keydown', closeByEscapeCallBack);\r\n    } else {\r\n      document.removeEventListener('keydown', closeByEscapeCallBack);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  function handleClose(evt) {\r\n    evt.target.classList.contains('popup') && onClose();\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    onSubmit(inputs);\r\n  }\r\n\r\n  return (\r\n    <section className={`popup popup_type_${name} ${isOpen ? \"popup_active\" : \"\"}`} onMouseDown={handleClose} >\r\n      <div className=\"popup__container\">\r\n        <Form\r\n          type='popup'\r\n          onSubmit={handleSubmit}\r\n          isOpen={isOpen}\r\n          isLoading={isLoading}\r\n          isValid={isValid}\r\n          inputs={inputs}\r\n          name={name} \r\n          title={title} \r\n          submitText={submitText}\r\n          loadingSubmitText={loadingSubmitText}\r\n          inputFieldset={inputFieldset}\r\n        />\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={onClose} />\r\n      </div>\r\n    </section>\r\n  )\r\n}"],"mappings":";;;AAAA,SAASA,WAAT,EAAsBC,SAAtB,QAAuC,OAAvC;AACA,OAAOC,IAAP,MAAiB,SAAjB;;AAEA,eAAe,SAASC,aAAT,OAA6I;EAAA;;EAAA,IAAtH;IAAEC,IAAF;IAAQC,KAAR;IAAeC,UAAf;IAA2BC,iBAA3B;IAA8CC,OAA9C;IAAuDC,QAAvD;IAAiEC,MAAjE;IAAyEC,SAAzE;IAAoFC,OAApF;IAA6FC,aAA7F;IAA4GC;EAA5G,CAAsH;EAC1J,MAAMC,qBAAqB,GAAGf,WAAW,CAAEgB,GAAD,IAAS;IACjDA,GAAG,CAACC,GAAJ,KAAY,QAAZ,IAAwBT,OAAO,EAA/B;EACD,CAFwC,EAEtC,EAFsC,CAAzC;EAIAP,SAAS,CAAC,MAAM;IACd,IAAIS,MAAJ,EAAY;MACVQ,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCJ,qBAArC;IACD,CAFD,MAEO;MACLG,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,EAAwCL,qBAAxC;IACD;EACF,CANQ,EAMN,CAACL,MAAD,CANM,CAAT;;EAQA,SAASW,WAAT,CAAqBL,GAArB,EAA0B;IACxBA,GAAG,CAACM,MAAJ,CAAWC,SAAX,CAAqBC,QAArB,CAA8B,OAA9B,KAA0ChB,OAAO,EAAjD;EACD;;EAED,SAASiB,YAAT,CAAsBT,GAAtB,EAA2B;IACzBA,GAAG,CAACU,cAAJ;IAEAjB,QAAQ,CAACK,MAAD,CAAR;EACD;;EAED,oBACE;IAAS,SAAS,EAAG,oBAAmBV,IAAK,IAAGM,MAAM,GAAG,cAAH,GAAoB,EAAG,EAA7E;IAAgF,WAAW,EAAEW,WAA7F;IAAA,uBACE;MAAK,SAAS,EAAC,kBAAf;MAAA,wBACE,QAAC,IAAD;QACE,IAAI,EAAC,OADP;QAEE,QAAQ,EAAEI,YAFZ;QAGE,MAAM,EAAEf,MAHV;QAIE,SAAS,EAAEC,SAJb;QAKE,OAAO,EAAEC,OALX;QAME,MAAM,EAAEE,MANV;QAOE,IAAI,EAAEV,IAPR;QAQE,KAAK,EAAEC,KART;QASE,UAAU,EAAEC,UATd;QAUE,iBAAiB,EAAEC,iBAVrB;QAWE,aAAa,EAAEM;MAXjB;QAAA;QAAA;QAAA;MAAA,QADF,eAcE;QAAQ,SAAS,EAAC,qBAAlB;QAAwC,IAAI,EAAC,QAA7C;QAAsD,OAAO,EAAEL;MAA/D;QAAA;QAAA;QAAA;MAAA,QAdF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAoBD;;GA3CuBL,a;;KAAAA,a"},"metadata":{},"sourceType":"module"}