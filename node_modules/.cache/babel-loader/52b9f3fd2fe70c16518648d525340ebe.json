{"ast":null,"code":"import _slicedToArray from\"/Users/maksim/Desktop/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{BrowserRouter as Router,Switch,Route}from'react-router-dom';import HomePage from'./HomePage';import Register from'./AuthForms/Register';import Login from'./AuthForms/Login';import ProtectedRoute from'../utils/ProtectedRoute';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){var authToken=localStorage.getItem('token');var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),currentUserEmail=_useState4[0],setCurrentUserEmail=_useState4[1];function handleSignIn(token){localStorage.setItem('token',token);}function handleSignOut(){localStorage.removeItem('token');}return/*#__PURE__*/_jsx(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(ProtectedRoute,{authToken:authToken,onSignOut:handleSignOut,component:HomePage,exact:true,path:\"/\",currentUserEmail:currentUserEmail,setCurrentUser:setCurrentUser,setCurrentUserEmail:setCurrentUserEmail}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",children:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",children:/*#__PURE__*/_jsx(Login,{onSignIn:handleSignIn})})]})})});}","map":{"version":3,"names":["React","useState","BrowserRouter","Router","Switch","Route","HomePage","Register","Login","ProtectedRoute","CurrentUserContext","App","authToken","localStorage","getItem","currentUser","setCurrentUser","currentUserEmail","setCurrentUserEmail","handleSignIn","token","setItem","handleSignOut","removeItem"],"sources":["/Users/maksim/Desktop/dev/mesto-react/src/components/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { \r\n  BrowserRouter as Router, \r\n  Switch, \r\n  Route\r\n} from 'react-router-dom';\r\n\r\nimport HomePage from './HomePage';\r\nimport Register from './AuthForms/Register';\r\nimport Login from './AuthForms/Login';\r\n\r\nimport ProtectedRoute from '../utils/ProtectedRoute';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function App() {\r\n  const authToken = localStorage.getItem('token');\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [currentUserEmail, setCurrentUserEmail] = useState(null);\r\n\r\n  function handleSignIn(token) {\r\n    localStorage.setItem('token', token)\r\n  }\r\n\r\n  function handleSignOut() {\r\n    localStorage.removeItem('token')\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Router>\r\n        <Switch>\r\n          <ProtectedRoute \r\n            authToken={authToken}\r\n            onSignOut={handleSignOut}\r\n            component={HomePage}\r\n            exact\r\n            path='/'\r\n            currentUserEmail={currentUserEmail}\r\n            setCurrentUser={setCurrentUser}\r\n            setCurrentUserEmail={setCurrentUserEmail}\r\n          />\r\n          <Route path='/sign-up'>\r\n            <Register />\r\n          </Route>\r\n          <Route path='/sign-in'>\r\n            <Login\r\n              onSignIn={handleSignIn}\r\n            />            \r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\n"],"mappings":"2HAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OACEC,aAAa,GAAIC,OADnB,CAEEC,MAFF,CAGEC,KAHF,KAIO,kBAJP,CAMA,MAAOC,SAAP,KAAqB,YAArB,CACA,MAAOC,SAAP,KAAqB,sBAArB,CACA,MAAOC,MAAP,KAAkB,mBAAlB,CAEA,MAAOC,eAAP,KAA2B,yBAA3B,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,wFAEA,cAAe,SAASC,IAAT,EAAe,CAC5B,GAAMC,UAAS,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAlB,CACA,cAAsCb,QAAQ,CAAC,IAAD,CAA9C,wCAAOc,WAAP,eAAoBC,cAApB,eACA,eAAgDf,QAAQ,CAAC,IAAD,CAAxD,yCAAOgB,gBAAP,eAAyBC,mBAAzB,eAEA,QAASC,aAAT,CAAsBC,KAAtB,CAA6B,CAC3BP,YAAY,CAACQ,OAAb,CAAqB,OAArB,CAA8BD,KAA9B,EACD,CAED,QAASE,cAAT,EAAyB,CACvBT,YAAY,CAACU,UAAb,CAAwB,OAAxB,EACD,CAED,mBACE,KAAC,kBAAD,CAAoB,QAApB,EAA6B,KAAK,CAAER,WAApC,uBACE,KAAC,MAAD,wBACE,MAAC,MAAD,yBACE,KAAC,cAAD,EACE,SAAS,CAAEH,SADb,CAEE,SAAS,CAAEU,aAFb,CAGE,SAAS,CAAEhB,QAHb,CAIE,KAAK,KAJP,CAKE,IAAI,CAAC,GALP,CAME,gBAAgB,CAAEW,gBANpB,CAOE,cAAc,CAAED,cAPlB,CAQE,mBAAmB,CAAEE,mBARvB,EADF,cAWE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,uBACE,KAAC,QAAD,IADF,EAXF,cAcE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,uBACE,KAAC,KAAD,EACE,QAAQ,CAAEC,YADZ,EADF,EAdF,GADF,EADF,EADF,CA0BD"},"metadata":{},"sourceType":"module"}