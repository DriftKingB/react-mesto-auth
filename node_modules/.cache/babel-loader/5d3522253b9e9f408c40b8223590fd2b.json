{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useRef, useState } from \"react\";\nexport default function useInputHandling(_ref, isOpen) {\n  _s();\n\n  let {\n    defaultInputs,\n    defaultInputIsValidState\n  } = _ref;\n  const [inputs, setInputs] = useState(defaultInputs);\n  const [isValid, setIsValid] = useState(false);\n  useEffect(() => {\n    if (isOpen) {\n      const someInputIsInvalid = Object.values(inputs).some(input => {\n        var _input$isValid;\n\n        return !((_input$isValid = input === null || input === void 0 ? void 0 : input.isValid) !== null && _input$isValid !== void 0 ? _input$isValid : defaultInputIsValidState);\n      });\n      console.log(inputs);\n      !someInputIsInvalid ? setIsValid(true) : setIsValid(false);\n    }\n  }, [inputs]);\n\n  function handleInputsUpdate() {\n    setInputs(defaultInputs);\n    setIsValid(false);\n  }\n\n  function handleChange(evt) {\n    const input = evt.target;\n    const value = input.value;\n    const isValid = input.validity.valid;\n    const errorMessage = input.validationMessage;\n    console.log(value);\n    setInputs({ ...inputs,\n      [input.name]: {\n        value,\n        isValid,\n        errorMessage\n      }\n    });\n  }\n\n  return [inputs, isValid, handleInputsUpdate, handleChange];\n}\n\n_s(useInputHandling, \"HibD7yxtvcnw2qgI/XpKOlHEKpY=\");","map":{"version":3,"names":["useEffect","useRef","useState","useInputHandling","isOpen","defaultInputs","defaultInputIsValidState","inputs","setInputs","isValid","setIsValid","someInputIsInvalid","Object","values","some","input","console","log","handleInputsUpdate","handleChange","evt","target","value","validity","valid","errorMessage","validationMessage","name"],"sources":["/Users/maksim/Desktop/dev/mesto-react/src/custom_hooks/useInputHandling.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\n\nexport default function useInputHandling({ defaultInputs, defaultInputIsValidState }, isOpen) {\n  const [ inputs, setInputs ] = useState(defaultInputs);\n  const [ isValid, setIsValid ] = useState(false);\n\n  useEffect(() => {\n    if (isOpen) {\n      const someInputIsInvalid = Object.values(inputs).some(input => !(input?.isValid ?? defaultInputIsValidState));\n      console.log(inputs)\n\n      !someInputIsInvalid ? setIsValid(true) : setIsValid(false);\n    }\n  }, [inputs]);\n\n  function handleInputsUpdate() {\n    setInputs(defaultInputs);\n    \n    setIsValid(false);\n  }\n\n  function handleChange(evt) {\n    const input = evt.target;\n    const value = input.value;\n    const isValid = input.validity.valid;\n    const errorMessage = input.validationMessage;\n    console.log(value)\n\n    setInputs({ ...inputs, [input.name]: { value, isValid, errorMessage } });\n  }\n\n  return [ inputs, isValid, handleInputsUpdate, handleChange ];\n}"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;AAEA,eAAe,SAASC,gBAAT,OAAuEC,MAAvE,EAA+E;EAAA;;EAAA,IAArD;IAAEC,aAAF;IAAiBC;EAAjB,CAAqD;EAC5F,MAAM,CAAEC,MAAF,EAAUC,SAAV,IAAwBN,QAAQ,CAACG,aAAD,CAAtC;EACA,MAAM,CAAEI,OAAF,EAAWC,UAAX,IAA0BR,QAAQ,CAAC,KAAD,CAAxC;EAEAF,SAAS,CAAC,MAAM;IACd,IAAII,MAAJ,EAAY;MACV,MAAMO,kBAAkB,GAAGC,MAAM,CAACC,MAAP,CAAcN,MAAd,EAAsBO,IAAtB,CAA2BC,KAAK;QAAA;;QAAA,OAAI,oBAAEA,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEN,OAAT,2DAAoBH,wBAApB,CAAJ;MAAA,CAAhC,CAA3B;MACAU,OAAO,CAACC,GAAR,CAAYV,MAAZ;MAEA,CAACI,kBAAD,GAAsBD,UAAU,CAAC,IAAD,CAAhC,GAAyCA,UAAU,CAAC,KAAD,CAAnD;IACD;EACF,CAPQ,EAON,CAACH,MAAD,CAPM,CAAT;;EASA,SAASW,kBAAT,GAA8B;IAC5BV,SAAS,CAACH,aAAD,CAAT;IAEAK,UAAU,CAAC,KAAD,CAAV;EACD;;EAED,SAASS,YAAT,CAAsBC,GAAtB,EAA2B;IACzB,MAAML,KAAK,GAAGK,GAAG,CAACC,MAAlB;IACA,MAAMC,KAAK,GAAGP,KAAK,CAACO,KAApB;IACA,MAAMb,OAAO,GAAGM,KAAK,CAACQ,QAAN,CAAeC,KAA/B;IACA,MAAMC,YAAY,GAAGV,KAAK,CAACW,iBAA3B;IACAV,OAAO,CAACC,GAAR,CAAYK,KAAZ;IAEAd,SAAS,CAAC,EAAE,GAAGD,MAAL;MAAa,CAACQ,KAAK,CAACY,IAAP,GAAc;QAAEL,KAAF;QAASb,OAAT;QAAkBgB;MAAlB;IAA3B,CAAD,CAAT;EACD;;EAED,OAAO,CAAElB,MAAF,EAAUE,OAAV,EAAmBS,kBAAnB,EAAuCC,YAAvC,CAAP;AACD;;GA9BuBhB,gB"},"metadata":{},"sourceType":"module"}