{"ast":null,"code":"var _jsxFileName = \"/Users/maksim/Desktop/dev/mesto-react/src/components/Popups/EditProfilePopup.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from \"react\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\nimport useInputHandling from \"../../custom_hooks/useInputHandling\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditProfilePopup(_ref) {\n  _s();\n\n  var _inputs$name$isValid, _inputs$name, _inputs$name2, _inputs$name3, _inputs$about$isValid, _inputs$about, _inputs$about2, _inputs$about3;\n\n  let {\n    isOpen,\n    isLoading,\n    onClose,\n    onSubmit\n  } = _ref;\n  const currentUser = useContext(CurrentUserContext);\n  const hookConfig = {\n    defaultInputs: {\n      name: {\n        value: currentUser.name\n      },\n      about: {\n        value: currentUser.about\n      }\n    },\n    defaultInputIsValidState: true\n  };\n  const [inputs, isValid, handleInputsUpdate, handleChange] = useInputHandling(hookConfig, isOpen); // useEffect(() => {\n  //   console.log('popup', isValid)\n  // }, [isValid])\n\n  useEffect(() => {\n    const delay = isOpen ? 0 : 200;\n    setTimeout(() => handleInputsUpdate(), delay);\n  }, [isOpen]);\n  return /*#__PURE__*/_jsxDEV(PopupWithForm, {\n    onClose: onClose,\n    onSubmit: onSubmit,\n    isOpen: isOpen,\n    isLoading: isLoading,\n    isValid: isValid,\n    inputs: inputs,\n    name: \"profile-edit\",\n    title: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",\n    submitText: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",\n    loadingSubmitText: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0435\\u043D\\u0438\\u0435\",\n    inputFieldset: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      className: `form__input-container form__input-container_type_popup`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form__field\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: `form__input form__input_type_popup ${!((_inputs$name$isValid = (_inputs$name = inputs.name) === null || _inputs$name === void 0 ? void 0 : _inputs$name.isValid) !== null && _inputs$name$isValid !== void 0 ? _inputs$name$isValid : true) ? 'form__input_invalid' : ''}`,\n          name: \"name\",\n          id: \"name-input\",\n          type: \"text\",\n          placeholder: \"\\u0418\\u043C\\u044F\",\n          required: true,\n          minLength: \"2\",\n          maxLength: \"40\",\n          onChange: handleChange,\n          value: (_inputs$name2 = inputs.name) === null || _inputs$name2 === void 0 ? void 0 : _inputs$name2.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"form__input-error\",\n          children: [\" \", (_inputs$name3 = inputs.name) === null || _inputs$name3 === void 0 ? void 0 : _inputs$name3.errorMessage, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form__field\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: `form__input form__input_type_popup ${!((_inputs$about$isValid = (_inputs$about = inputs.about) === null || _inputs$about === void 0 ? void 0 : _inputs$about.isValid) !== null && _inputs$about$isValid !== void 0 ? _inputs$about$isValid : true) ? 'form__input_invalid' : ''}`,\n          name: \"about\",\n          id: \"about-input\",\n          type: \"text\",\n          placeholder: \"\\u041E \\u0441\\u0435\\u0431\\u0435\",\n          required: true,\n          minLength: \"2\",\n          maxLength: \"200\",\n          onChange: handleChange,\n          value: (_inputs$about2 = inputs.about) === null || _inputs$about2 === void 0 ? void 0 : _inputs$about2.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"form__input-error\",\n          children: [\" \", (_inputs$about3 = inputs.about) === null || _inputs$about3 === void 0 ? void 0 : _inputs$about3.errorMessage, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditProfilePopup, \"Bxe4/j40afCFn+tquvb5XWHJHvs=\", false, function () {\n  return [useInputHandling];\n});\n\n_c = EditProfilePopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProfilePopup\");","map":{"version":3,"names":["React","useContext","useEffect","CurrentUserContext","useInputHandling","PopupWithForm","EditProfilePopup","isOpen","isLoading","onClose","onSubmit","currentUser","hookConfig","defaultInputs","name","value","about","defaultInputIsValidState","inputs","isValid","handleInputsUpdate","handleChange","delay","setTimeout","errorMessage"],"sources":["/Users/maksim/Desktop/dev/mesto-react/src/components/Popups/EditProfilePopup.js"],"sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\nimport useInputHandling from \"../../custom_hooks/useInputHandling\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditProfilePopup({ isOpen, isLoading, onClose, onSubmit }) {\n  const currentUser = useContext(CurrentUserContext);\n  const hookConfig = {\n    defaultInputs: { name: { value: currentUser.name }, about: { value: currentUser.about } },\n    defaultInputIsValidState: true\n  }\n  const [ inputs, isValid, handleInputsUpdate, handleChange ] = useInputHandling(hookConfig, isOpen);\n\n  // useEffect(() => {\n  //   console.log('popup', isValid)\n  // }, [isValid])\n\n  useEffect(() => {\n    const delay = isOpen ? 0 : 200; \n\n    setTimeout(() => handleInputsUpdate(), delay);\n  }, [isOpen]);\n\n  return(\n    <PopupWithForm\n      onClose={onClose}\n      onSubmit={onSubmit}\n      isOpen={isOpen}\n      isLoading={isLoading}\n      isValid={isValid}\n      inputs={inputs}\n      name=\"profile-edit\" \n      title=\"Редактировать профиль\" \n      submitText=\"Сохранить\"\n      loadingSubmitText=\"Сохранение\"\n      inputFieldset={\n        <fieldset className={`form__input-container form__input-container_type_popup`}>\n          <div className=\"form__field\">\n            <input\n              className={`form__input form__input_type_popup ${!(inputs.name?.isValid ?? true) ? 'form__input_invalid' : ''}`} \n              name=\"name\" \n              id=\"name-input\" \n              type=\"text\" \n              placeholder=\"Имя\" \n              required \n              minLength=\"2\" \n              maxLength=\"40\" \n              onChange={handleChange} \n              value={inputs.name?.value} \n            />\n            <span className=\"form__input-error\"> { inputs.name?.errorMessage } </span>\n          </div>\n          <div className=\"form__field\">\n            <input \n              className={`form__input form__input_type_popup ${!(inputs.about?.isValid ?? true) ? 'form__input_invalid' : ''}`} \n              name=\"about\" \n              id=\"about-input\" \n              type=\"text\" \n              placeholder=\"О себе\" \n              required \n              minLength=\"2\" \n              maxLength=\"200\" \n              onChange={handleChange} \n              value={inputs.about?.value} \n            />\n            <span className=\"form__input-error\"> { inputs.about?.errorMessage } </span>\n          </div>\n        </fieldset>\n      } \n    />\n  )\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}