{"ast":null,"code":"import _slicedToArray from\"/Users/maksim/Desktop/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from\"react\";import PopupWithForm from\"./PopupWithForm\";import useInputHandling from\"../../custom_hooks/useInputHandling\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddPlacePopup(_ref){var _inputs$name$isValid,_inputs$name,_inputs$name2,_inputs$name3,_inputs$link$isValid,_inputs$link,_inputs$link2,_inputs$link3;var isOpen=_ref.isOpen,isLoading=_ref.isLoading,onClose=_ref.onClose,onSubmit=_ref.onSubmit;var hookConfig={defaultInputs:{name:{value:''},link:{value:''}},defaultInputIsValidState:false};var _useInputHandling=useInputHandling(hookConfig,isOpen),_useInputHandling2=_slicedToArray(_useInputHandling,4),inputs=_useInputHandling2[0],isValid=_useInputHandling2[1],handleInputsUpdate=_useInputHandling2[2],handleChange=_useInputHandling2[3];useEffect(function(){!isOpen&&setTimeout(function(){return handleInputsUpdate();},200);},[isOpen]);return/*#__PURE__*/_jsx(PopupWithForm,{onClose:onClose,onSubmit:onSubmit,isOpen:isOpen,isLoading:isLoading,isValid:isValid,inputs:inputs,name:\"card-add\",title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",submitText:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\",loadingSubmitText:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u0435\",inputFieldset:/*#__PURE__*/_jsxs(\"fieldset\",{className:\"form__input-container form__input-container_type_popup\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form__field\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form__input form__input_type_popup \".concat(!((_inputs$name$isValid=(_inputs$name=inputs.name)===null||_inputs$name===void 0?void 0:_inputs$name.isValid)!==null&&_inputs$name$isValid!==void 0?_inputs$name$isValid:true)?'form__input_invalid':''),name:\"name\",id:\"title-input\",type:\"text\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",required:true,minLength:\"2\",maxLength:\"30\",onChange:handleChange,value:(_inputs$name2=inputs.name)===null||_inputs$name2===void 0?void 0:_inputs$name2.value}),/*#__PURE__*/_jsxs(\"span\",{className:\"form__input-error\",children:[\" \",(_inputs$name3=inputs.name)===null||_inputs$name3===void 0?void 0:_inputs$name3.errorMessage,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form__field\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form__input form__input_type_popup \".concat(!((_inputs$link$isValid=(_inputs$link=inputs.link)===null||_inputs$link===void 0?void 0:_inputs$link.isValid)!==null&&_inputs$link$isValid!==void 0?_inputs$link$isValid:true)?'form__input_invalid':''),name:\"link\",id:\"link-input\",type:\"url\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:true,onChange:handleChange,value:(_inputs$link2=inputs.link)===null||_inputs$link2===void 0?void 0:_inputs$link2.value}),/*#__PURE__*/_jsxs(\"span\",{className:\"form__input-error\",children:[\" \",(_inputs$link3=inputs.link)===null||_inputs$link3===void 0?void 0:_inputs$link3.errorMessage,\" \"]})]})]})});}","map":{"version":3,"names":["React","useEffect","PopupWithForm","useInputHandling","AddPlacePopup","isOpen","isLoading","onClose","onSubmit","hookConfig","defaultInputs","name","value","link","defaultInputIsValidState","inputs","isValid","handleInputsUpdate","handleChange","setTimeout","errorMessage"],"sources":["/Users/maksim/Desktop/dev/mesto-react/src/components/Popups/AddPlacePopup.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport useInputHandling from \"../../custom_hooks/useInputHandling\";\n\nexport default function AddPlacePopup({ isOpen, isLoading, onClose, onSubmit }) {\n  const hookConfig = {\n    defaultInputs: { name: { value: '' }, link: { value: '' } },\n    defaultInputIsValidState: false\n  }\n  const [ inputs, isValid, handleInputsUpdate, handleChange ] = useInputHandling(hookConfig, isOpen);\n\n  useEffect(() => {\n    !isOpen && setTimeout(() => handleInputsUpdate(), 200);\n  }, [isOpen]);\n\n  return(\n    <PopupWithForm \n      onClose={onClose}\n      onSubmit={onSubmit}\n      isOpen={isOpen}\n      isLoading={isLoading}\n      isValid={isValid}\n      inputs={inputs}\n      name=\"card-add\" \n      title=\"Новое место\"\n      submitText=\"Создать\"\n      loadingSubmitText=\"Создание\"\n      inputFieldset={\n        <fieldset className=\"form__input-container form__input-container_type_popup\">\n          <div className=\"form__field\">\n            <input  \n              className={`form__input form__input_type_popup ${!(inputs.name?.isValid ?? true) ? 'form__input_invalid' : ''}`}\n              name=\"name\" \n              id=\"title-input\" \n              type=\"text\" \n              placeholder=\"Название\" \n              required \n              minLength=\"2\" \n              maxLength=\"30\" \n              onChange={handleChange} \n              value={inputs.name?.value} \n            />\n            <span className=\"form__input-error\"> { inputs.name?.errorMessage } </span>\n          </div>\n          <div className=\"form__field\">\n            <input\n              className={`form__input form__input_type_popup ${!(inputs.link?.isValid ?? true) ? 'form__input_invalid' : ''}`}\n              name=\"link\" \n              id=\"link-input\" \n              type=\"url\" \n              placeholder=\"Ссылка на картинку\" \n              required \n              onChange={handleChange} \n              value={inputs.link?.value} \n            />\n            <span className=\"form__input-error\"> { inputs.link?.errorMessage } </span>\n          </div>\n        </fieldset>\n      } \n    />\n  )\n}\n\n"],"mappings":"2HAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,cAAP,KAA0B,iBAA1B,CACA,MAAOC,iBAAP,KAA6B,qCAA7B,C,wFAEA,cAAe,SAASC,cAAT,MAAiE,oIAAxCC,OAAwC,MAAxCA,MAAwC,CAAhCC,SAAgC,MAAhCA,SAAgC,CAArBC,OAAqB,MAArBA,OAAqB,CAAZC,QAAY,MAAZA,QAAY,CAC9E,GAAMC,WAAU,CAAG,CACjBC,aAAa,CAAE,CAAEC,IAAI,CAAE,CAAEC,KAAK,CAAE,EAAT,CAAR,CAAuBC,IAAI,CAAE,CAAED,KAAK,CAAE,EAAT,CAA7B,CADE,CAEjBE,wBAAwB,CAAE,KAFT,CAAnB,CAIA,sBAA8DX,gBAAgB,CAACM,UAAD,CAAaJ,MAAb,CAA9E,wDAAQU,MAAR,uBAAgBC,OAAhB,uBAAyBC,kBAAzB,uBAA6CC,YAA7C,uBAEAjB,SAAS,CAAC,UAAM,CACd,CAACI,MAAD,EAAWc,UAAU,CAAC,iBAAMF,mBAAkB,EAAxB,EAAD,CAA6B,GAA7B,CAArB,CACD,CAFQ,CAEN,CAACZ,MAAD,CAFM,CAAT,CAIA,mBACE,KAAC,aAAD,EACE,OAAO,CAAEE,OADX,CAEE,QAAQ,CAAEC,QAFZ,CAGE,MAAM,CAAEH,MAHV,CAIE,SAAS,CAAEC,SAJb,CAKE,OAAO,CAAEU,OALX,CAME,MAAM,CAAED,MANV,CAOE,IAAI,CAAC,UAPP,CAQE,KAAK,CAAC,+DARR,CASE,UAAU,CAAC,4CATb,CAUE,iBAAiB,CAAC,kDAVpB,CAWE,aAAa,cACX,kBAAU,SAAS,CAAC,wDAApB,wBACE,aAAK,SAAS,CAAC,aAAf,wBACE,cACE,SAAS,8CAAwC,sCAAEA,MAAM,CAACJ,IAAT,uCAAE,aAAaK,OAAf,6DAA0B,IAA1B,EAAkC,qBAAlC,CAA0D,EAAlG,CADX,CAEE,IAAI,CAAC,MAFP,CAGE,EAAE,CAAC,aAHL,CAIE,IAAI,CAAC,MAJP,CAKE,WAAW,CAAC,kDALd,CAME,QAAQ,KANV,CAOE,SAAS,CAAC,GAPZ,CAQE,SAAS,CAAC,IARZ,CASE,QAAQ,CAAEE,YATZ,CAUE,KAAK,gBAAEH,MAAM,CAACJ,IAAT,wCAAE,cAAaC,KAVtB,EADF,cAaE,cAAM,SAAS,CAAC,mBAAhB,8BAAuCG,MAAM,CAACJ,IAA9C,wCAAuC,cAAaS,YAApD,OAbF,GADF,cAgBE,aAAK,SAAS,CAAC,aAAf,wBACE,cACE,SAAS,8CAAwC,sCAAEL,MAAM,CAACF,IAAT,uCAAE,aAAaG,OAAf,6DAA0B,IAA1B,EAAkC,qBAAlC,CAA0D,EAAlG,CADX,CAEE,IAAI,CAAC,MAFP,CAGE,EAAE,CAAC,YAHL,CAIE,IAAI,CAAC,KAJP,CAKE,WAAW,CAAC,oGALd,CAME,QAAQ,KANV,CAOE,QAAQ,CAAEE,YAPZ,CAQE,KAAK,gBAAEH,MAAM,CAACF,IAAT,wCAAE,cAAaD,KARtB,EADF,cAWE,cAAM,SAAS,CAAC,mBAAhB,8BAAuCG,MAAM,CAACF,IAA9C,wCAAuC,cAAaO,YAApD,OAXF,GAhBF,GAZJ,EADF,CA8CD"},"metadata":{},"sourceType":"module"}