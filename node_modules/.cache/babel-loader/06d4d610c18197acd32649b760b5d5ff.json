{"ast":null,"code":"import{useCallback,useEffect}from\"react\";import Form from\"../Form\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function PopupWithForm(_ref){var name=_ref.name,title=_ref.title,submitText=_ref.submitText,loadingSubmitText=_ref.loadingSubmitText,onClose=_ref.onClose,onSubmit=_ref.onSubmit,isOpen=_ref.isOpen,isLoading=_ref.isLoading,isValid=_ref.isValid,inputFieldset=_ref.inputFieldset,inputs=_ref.inputs;var closeByEscapeCallBack=useCallback(function(evt){evt.key==='Escape'&&onClose();},[]);useEffect(function(){if(isOpen){document.addEventListener('keydown',closeByEscapeCallBack);}else{document.removeEventListener('keydown',closeByEscapeCallBack);}},[isOpen]);function handleClose(evt){evt.target.classList.contains('popup')&&onClose();}function handleSubmit(evt){evt.preventDefault();onSubmit(inputs);}return/*#__PURE__*/_jsx(\"section\",{className:\"popup popup_type_\".concat(name,\" \").concat(isOpen?\"popup_active\":\"\"),onMouseDown:handleClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__container\",children:[/*#__PURE__*/_jsx(Form,{type:\"popup\",onSubmit:handleSubmit,isOpen:isOpen,isLoading:isLoading,isValid:isValid,inputs:inputs,name:name,title:title,submitText:submitText,loadingSubmitText:loadingSubmitText,inputFieldset:inputFieldset}),/*#__PURE__*/_jsx(\"button\",{className:\"popup__close-button\",type:\"button\",onClick:onClose})]})});}","map":{"version":3,"names":["useCallback","useEffect","Form","PopupWithForm","name","title","submitText","loadingSubmitText","onClose","onSubmit","isOpen","isLoading","isValid","inputFieldset","inputs","closeByEscapeCallBack","evt","key","document","addEventListener","removeEventListener","handleClose","target","classList","contains","handleSubmit","preventDefault"],"sources":["/Users/maksim/Desktop/dev/mesto-react/src/components/Popups/PopupWithForm.js"],"sourcesContent":["import { useCallback, useEffect } from \"react\"\r\nimport Form from \"../Form\";\r\n\r\nexport default function PopupWithForm({ name, title, submitText, loadingSubmitText, onClose, onSubmit, isOpen, isLoading, isValid, inputFieldset, inputs }) {\r\n  const closeByEscapeCallBack = useCallback((evt) => {\r\n    evt.key === 'Escape' && onClose();\r\n  }, []);\r\n  \r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.addEventListener('keydown', closeByEscapeCallBack);\r\n    } else {\r\n      document.removeEventListener('keydown', closeByEscapeCallBack);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  function handleClose(evt) {\r\n    evt.target.classList.contains('popup') && onClose();\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    onSubmit(inputs);\r\n  }\r\n\r\n  return (\r\n    <section className={`popup popup_type_${name} ${isOpen ? \"popup_active\" : \"\"}`} onMouseDown={handleClose} >\r\n      <div className=\"popup__container\">\r\n        <Form\r\n          type='popup'\r\n          onSubmit={handleSubmit}\r\n          isOpen={isOpen}\r\n          isLoading={isLoading}\r\n          isValid={isValid}\r\n          inputs={inputs}\r\n          name={name} \r\n          title={title} \r\n          submitText={submitText}\r\n          loadingSubmitText={loadingSubmitText}\r\n          inputFieldset={inputFieldset}\r\n        />\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={onClose} />\r\n      </div>\r\n    </section>\r\n  )\r\n}"],"mappings":"AAAA,OAASA,WAAT,CAAsBC,SAAtB,KAAuC,OAAvC,CACA,MAAOC,KAAP,KAAiB,SAAjB,C,wFAEA,cAAe,SAASC,cAAT,MAA6I,IAApHC,KAAoH,MAApHA,IAAoH,CAA9GC,KAA8G,MAA9GA,KAA8G,CAAvGC,UAAuG,MAAvGA,UAAuG,CAA3FC,iBAA2F,MAA3FA,iBAA2F,CAAxEC,OAAwE,MAAxEA,OAAwE,CAA/DC,QAA+D,MAA/DA,QAA+D,CAArDC,MAAqD,MAArDA,MAAqD,CAA7CC,SAA6C,MAA7CA,SAA6C,CAAlCC,OAAkC,MAAlCA,OAAkC,CAAzBC,aAAyB,MAAzBA,aAAyB,CAAVC,MAAU,MAAVA,MAAU,CAC1J,GAAMC,sBAAqB,CAAGf,WAAW,CAAC,SAACgB,GAAD,CAAS,CACjDA,GAAG,CAACC,GAAJ,GAAY,QAAZ,EAAwBT,OAAO,EAA/B,CACD,CAFwC,CAEtC,EAFsC,CAAzC,CAIAP,SAAS,CAAC,UAAM,CACd,GAAIS,MAAJ,CAAY,CACVQ,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAqCJ,qBAArC,EACD,CAFD,IAEO,CACLG,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,CAAwCL,qBAAxC,EACD,CACF,CANQ,CAMN,CAACL,MAAD,CANM,CAAT,CAQA,QAASW,YAAT,CAAqBL,GAArB,CAA0B,CACxBA,GAAG,CAACM,MAAJ,CAAWC,SAAX,CAAqBC,QAArB,CAA8B,OAA9B,GAA0ChB,OAAO,EAAjD,CACD,CAED,QAASiB,aAAT,CAAsBT,GAAtB,CAA2B,CACzBA,GAAG,CAACU,cAAJ,GAEAjB,QAAQ,CAACK,MAAD,CAAR,CACD,CAED,mBACE,gBAAS,SAAS,4BAAsBV,IAAtB,aAA8BM,MAAM,CAAG,cAAH,CAAoB,EAAxD,CAAlB,CAAgF,WAAW,CAAEW,WAA7F,uBACE,aAAK,SAAS,CAAC,kBAAf,wBACE,KAAC,IAAD,EACE,IAAI,CAAC,OADP,CAEE,QAAQ,CAAEI,YAFZ,CAGE,MAAM,CAAEf,MAHV,CAIE,SAAS,CAAEC,SAJb,CAKE,OAAO,CAAEC,OALX,CAME,MAAM,CAAEE,MANV,CAOE,IAAI,CAAEV,IAPR,CAQE,KAAK,CAAEC,KART,CASE,UAAU,CAAEC,UATd,CAUE,iBAAiB,CAAEC,iBAVrB,CAWE,aAAa,CAAEM,aAXjB,EADF,cAcE,eAAQ,SAAS,CAAC,qBAAlB,CAAwC,IAAI,CAAC,QAA7C,CAAsD,OAAO,CAAEL,OAA/D,EAdF,GADF,EADF,CAoBD"},"metadata":{},"sourceType":"module"}