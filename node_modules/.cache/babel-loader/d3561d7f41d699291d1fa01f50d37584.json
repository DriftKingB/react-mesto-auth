{"ast":null,"code":"import _slicedToArray from\"/Users/maksim/Desktop/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Card(_ref){var card=_ref.card,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,onCardRemoval=_ref.onCardRemoval;var currentUser=useContext(CurrentUserContext);var madeByUser=currentUser._id===card.owner._id;var likedByUser=card.likes.some(function(user){return user._id===currentUser._id;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];function handleCardClick(){onCardClick(card);}function handleCardLike(){onCardLike(card,setIsLoading);}function handleCardRemoval(){onCardRemoval(card);}return/*#__PURE__*/_jsxs(\"article\",{className:\"card\",id:card._id,children:[/*#__PURE__*/_jsx(\"div\",{className:\"card__image-container\",onClick:handleCardClick,children:/*#__PURE__*/_jsx(\"img\",{className:\"card__image\",src:card.link,alt:card.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__tab\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"card__title\",children:[\" \",card.name,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__likes\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"card__like-button \".concat(likedByUser&&\"card__like-button_active\"),type:\"button\",onClick:handleCardLike}),/*#__PURE__*/_jsx(\"div\",{className:\"card__loading-icon \".concat(isLoading&&\"card__loading-icon_active\")}),/*#__PURE__*/_jsxs(\"span\",{className:\"card__likes-number \".concat(isLoading&&\"card__likes-number_inactive\"),children:[\" \",card.likes.length,\" \"]})]})]}),madeByUser&&/*#__PURE__*/_jsx(\"button\",{className:\"card__delete-button\",onClick:handleCardRemoval})]});}","map":{"version":3,"names":["React","useContext","useState","CurrentUserContext","Card","card","onCardClick","onCardLike","onCardRemoval","currentUser","madeByUser","_id","owner","likedByUser","likes","some","user","isLoading","setIsLoading","handleCardClick","handleCardLike","handleCardRemoval","link","name","length"],"sources":["/Users/maksim/Desktop/dev/mesto-react/src/components/Card.js"],"sourcesContent":["import React, { useContext, useState } from \"react\"\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\"\r\n\r\nexport default function Card({ card, onCardClick, onCardLike, onCardRemoval }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const madeByUser = currentUser._id === card.owner._id;\r\n  const likedByUser = card.likes.some(user => user._id === currentUser._id );\r\n  const [ isLoading, setIsLoading ] = useState(false);\r\n\r\n  function handleCardClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleCardLike() {\r\n    onCardLike(card, setIsLoading);\r\n  }\r\n\r\n  function handleCardRemoval() {\r\n    onCardRemoval(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"card\" id={card._id}>\r\n      <div className=\"card__image-container\" onClick={handleCardClick}>\r\n        <img className=\"card__image\" src={card.link} alt={card.name} />\r\n      </div>\r\n      <div className=\"card__tab\">\r\n        <h2 className=\"card__title\"> {card.name} </h2>\r\n        <div className=\"card__likes\">\r\n          <button className={`card__like-button ${likedByUser && \"card__like-button_active\"}`} type=\"button\" onClick={handleCardLike} />\r\n          <div className={`card__loading-icon ${isLoading && \"card__loading-icon_active\"}`} />\r\n          <span className={`card__likes-number ${isLoading && \"card__likes-number_inactive\"}`}> {card.likes.length} </span>\r\n        </div>\r\n      </div>\r\n      { madeByUser && <button className=\"card__delete-button\" onClick={handleCardRemoval} /> }\r\n    </article>\r\n  )\r\n}"],"mappings":"2HAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,wFAEA,cAAe,SAASC,KAAT,MAAgE,IAAhDC,KAAgD,MAAhDA,IAAgD,CAA1CC,WAA0C,MAA1CA,WAA0C,CAA7BC,UAA6B,MAA7BA,UAA6B,CAAjBC,aAAiB,MAAjBA,aAAiB,CAC7E,GAAMC,YAAW,CAAGR,UAAU,CAACE,kBAAD,CAA9B,CACA,GAAMO,WAAU,CAAGD,WAAW,CAACE,GAAZ,GAAoBN,IAAI,CAACO,KAAL,CAAWD,GAAlD,CACA,GAAME,YAAW,CAAGR,IAAI,CAACS,KAAL,CAAWC,IAAX,CAAgB,SAAAC,IAAI,QAAIA,KAAI,CAACL,GAAL,GAAaF,WAAW,CAACE,GAA7B,EAApB,CAApB,CACA,cAAoCT,QAAQ,CAAC,KAAD,CAA5C,wCAAQe,SAAR,eAAmBC,YAAnB,eAEA,QAASC,gBAAT,EAA2B,CACzBb,WAAW,CAACD,IAAD,CAAX,CACD,CAED,QAASe,eAAT,EAA0B,CACxBb,UAAU,CAACF,IAAD,CAAOa,YAAP,CAAV,CACD,CAED,QAASG,kBAAT,EAA6B,CAC3Bb,aAAa,CAACH,IAAD,CAAb,CACD,CAED,mBACE,iBAAS,SAAS,CAAC,MAAnB,CAA0B,EAAE,CAAEA,IAAI,CAACM,GAAnC,wBACE,YAAK,SAAS,CAAC,uBAAf,CAAuC,OAAO,CAAEQ,eAAhD,uBACE,YAAK,SAAS,CAAC,aAAf,CAA6B,GAAG,CAAEd,IAAI,CAACiB,IAAvC,CAA6C,GAAG,CAAEjB,IAAI,CAACkB,IAAvD,EADF,EADF,cAIE,aAAK,SAAS,CAAC,WAAf,wBACE,YAAI,SAAS,CAAC,aAAd,eAA8BlB,IAAI,CAACkB,IAAnC,OADF,cAEE,aAAK,SAAS,CAAC,aAAf,wBACE,eAAQ,SAAS,6BAAuBV,WAAW,EAAI,0BAAtC,CAAjB,CAAqF,IAAI,CAAC,QAA1F,CAAmG,OAAO,CAAEO,cAA5G,EADF,cAEE,YAAK,SAAS,8BAAwBH,SAAS,EAAI,2BAArC,CAAd,EAFF,cAGE,cAAM,SAAS,8BAAwBA,SAAS,EAAI,6BAArC,CAAf,eAAuFZ,IAAI,CAACS,KAAL,CAAWU,MAAlG,OAHF,GAFF,GAJF,CAYId,UAAU,eAAI,eAAQ,SAAS,CAAC,qBAAlB,CAAwC,OAAO,CAAEW,iBAAjD,EAZlB,GADF,CAgBD"},"metadata":{},"sourceType":"module"}