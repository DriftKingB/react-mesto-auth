{"ast":null,"code":"import _classCallCheck from\"/Users/maksim/Desktop/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/maksim/Desktop/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{apiConfig}from\"./constants\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._baseUrl=baseUrl;this._headers=headers;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){return res.ok?Promise.resolve(res.json()):Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getCohortCards\",value:function getCohortCards(){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'GET',headers:this._headers}).then(this._checkResponse);}},{key:\"postSectionItem\",value:function postSectionItem(cardName,cardLink){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:cardName,link:cardLink})}).then(this._checkResponse);}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId),{method:'DELETE',headers:this._headers}).then(this._checkResponse);}},{key:\"removeCardLike\",value:function removeCardLike(cardId){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:'DELETE',headers:this._headers}).then(this._checkResponse);}},{key:\"putCardLike\",value:function putCardLike(cardId){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:'PUT',headers:this._headers}).then(this._checkResponse);}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'GET',headers:this._headers}).then(this._checkResponse);}},{key:\"patchUserInfo\",value:function patchUserInfo(userName,userAbout){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:userName,about:userAbout})}).then(this._checkResponse);}},{key:\"patchUserAvatar\",value:function patchUserAvatar(avatarLink){return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatarLink})}).then(this._checkResponse);}}]);return Api;}();export default new Api(apiConfig);","map":{"version":3,"names":["apiConfig","Api","baseUrl","headers","_baseUrl","_headers","res","ok","Promise","resolve","json","reject","status","fetch","method","then","_checkResponse","cardName","cardLink","body","JSON","stringify","name","link","cardId","userName","userAbout","about","avatarLink","avatar"],"sources":["/Users/maksim/Desktop/dev/mesto-react/src/utils/Api.js"],"sourcesContent":["import { apiConfig } from \"./constants\";\r\n\r\nclass Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    return (res.ok) ? Promise.resolve(res.json()) : Promise.reject(`Ошибка: ${res.status}`)\r\n  }\r\n\r\n  getCohortCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n        method: 'GET',\r\n        headers: this._headers\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  postSectionItem(cardName, cardLink) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: cardName,\r\n        link: cardLink\r\n      })\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  removeCardLike(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  putCardLike(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  patchUserInfo(userName, userAbout) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: userName,\r\n        about: userAbout\r\n      })\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  patchUserAvatar(avatarLink) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatarLink\r\n      })\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n}\r\n\r\nexport default new Api(apiConfig);"],"mappings":"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"},"metadata":{},"sourceType":"module"}